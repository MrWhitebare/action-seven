import{r as a,ag as J,a5 as Q,ae as U,d as $,ac as A,x as Z,as as L,a9 as ee,j as q,q as te,D as ae,c as W,bg as z,aY as ne,aX as le,L as se,_ as T}from"./index-BQ7bMar-.js";var re=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],ce=a.forwardRef(function(e,f){var c=e.prefixCls,t=c===void 0?"rc-checkbox":c,r=e.className,V=e.style,h=e.checked,C=e.disabled,O=e.defaultChecked,g=O===void 0?!1:O,u=e.type,x=u===void 0?"checkbox":u,w=e.title,s=e.onChange,_=J(e,re),p=a.useRef(null),d=a.useRef(null),n=Q(g,{value:h}),E=U(n,2),N=E[0],y=E[1];a.useImperativeHandle(f,function(){return{focus:function(i){var m;(m=p.current)===null||m===void 0||m.focus(i)},blur:function(){var i;(i=p.current)===null||i===void 0||i.blur()},input:p.current,nativeElement:d.current}});var v=$(t,r,A(A({},"".concat(t,"-checked"),N),"".concat(t,"-disabled"),C)),o=function(i){C||("checked"in e||y(i.target.checked),s==null||s({target:L(L({},e),{},{type:x,checked:i.target.checked}),stopPropagation:function(){i.stopPropagation()},preventDefault:function(){i.preventDefault()},nativeEvent:i.nativeEvent}))};return a.createElement("span",{className:v,title:w,style:V,ref:d},a.createElement("input",Z({},_,{className:"".concat(t,"-input"),ref:p,onChange:o,disabled:C,checked:!!N,type:x})),a.createElement("span",{className:"".concat(t,"-inner")}))});const B=ee.createContext(null);var oe=function(e,f){var c={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&f.indexOf(t)<0&&(c[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)f.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(c[t[r]]=e[t[r]]);return c};const ie=(e,f)=>{var c;const{prefixCls:t,className:r,rootClassName:V,children:h,indeterminate:C=!1,style:O,onMouseEnter:g,onMouseLeave:u,skipGroup:x=!1,disabled:w}=e,s=oe(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:_,direction:p,checkbox:d}=a.useContext(q),n=a.useContext(B),{isFormItemInput:E}=a.useContext(te),N=a.useContext(ae),y=(c=(n==null?void 0:n.disabled)||w)!==null&&c!==void 0?c:N,v=a.useRef(s.value);a.useEffect(()=>{n==null||n.registerValue(s.value)},[]),a.useEffect(()=>{if(!x)return s.value!==v.current&&(n==null||n.cancelValue(v.current),n==null||n.registerValue(s.value),v.current=s.value),()=>n==null?void 0:n.cancelValue(s.value)},[s.value]);const o=_("checkbox",t),b=W(o),[i,m,j]=z(o,b),k=Object.assign({},s);n&&!x&&(k.onChange=function(){s.onChange&&s.onChange.apply(s,arguments),n.toggleOption&&n.toggleOption({label:h,value:s.value})},k.name=n.name,k.checked=n.value.includes(s.value));const I=$(`${o}-wrapper`,{[`${o}-rtl`]:p==="rtl",[`${o}-wrapper-checked`]:k.checked,[`${o}-wrapper-disabled`]:y,[`${o}-wrapper-in-form-item`]:E},d==null?void 0:d.className,r,V,j,b,m),R=$({[`${o}-indeterminate`]:C},ne,m),M=C?"mixed":void 0;return i(a.createElement(le,{component:"Checkbox",disabled:y},a.createElement("label",{className:I,style:Object.assign(Object.assign({},d==null?void 0:d.style),O),onMouseEnter:g,onMouseLeave:u},a.createElement(ce,Object.assign({"aria-checked":M},k,{prefixCls:o,className:R,disabled:y,ref:f})),h!==void 0&&a.createElement("span",null,h))))},F=a.forwardRef(ie);var ue=function(e,f){var c={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&f.indexOf(t)<0&&(c[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)f.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(c[t[r]]=e[t[r]]);return c};const de=a.forwardRef((e,f)=>{const{defaultValue:c,children:t,options:r=[],prefixCls:V,className:h,rootClassName:C,style:O,onChange:g}=e,u=ue(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:x,direction:w}=a.useContext(q),[s,_]=a.useState(u.value||c||[]),[p,d]=a.useState([]);a.useEffect(()=>{"value"in u&&_(u.value||[])},[u.value]);const n=a.useMemo(()=>r.map(l=>typeof l=="string"||typeof l=="number"?{label:l,value:l}:l),[r]),E=l=>{d(P=>P.filter(S=>S!==l))},N=l=>{d(P=>[].concat(T(P),[l]))},y=l=>{const P=s.indexOf(l.value),S=T(s);P===-1?S.push(l.value):S.splice(P,1),"value"in u||_(S),g==null||g(S.filter(D=>p.includes(D)).sort((D,X)=>{const K=n.findIndex(G=>G.value===D),Y=n.findIndex(G=>G.value===X);return K-Y}))},v=x("checkbox",V),o=`${v}-group`,b=W(v),[i,m,j]=z(v,b),k=se(u,["value","disabled"]),I=r.length?n.map(l=>a.createElement(F,{prefixCls:v,key:l.value.toString(),disabled:"disabled"in l?l.disabled:u.disabled,value:l.value,checked:s.includes(l.value),onChange:l.onChange,className:`${o}-item`,style:l.style,title:l.title,id:l.id,required:l.required},l.label)):t,R={toggleOption:y,value:s,disabled:u.disabled,name:u.name,registerValue:N,cancelValue:E},M=$(o,{[`${o}-rtl`]:w==="rtl"},h,C,j,b,m);return i(a.createElement("div",Object.assign({className:M,style:O},k,{ref:f}),a.createElement(B.Provider,{value:R},I)))}),H=F;H.Group=de;H.__ANT_CHECKBOX=!0;export{H as C,ce as a};
